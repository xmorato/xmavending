(this["webpackJsonpxma-vending"]=this["webpackJsonpxma-vending"]||[]).push([[0],{47:function(e,t,n){e.exports=n(57)},52:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),i=(n(52),n(14)),l=n(7),u="\u20ac",d={.05:0,.1:0,.2:0,.5:0,1:0,2:0},s={p1:{name:"Beer 0.0%",price:.8,stock:10},p2:{name:"Coca-Cola",price:.75,stock:16},p3:{name:"Coca-Cola Light",price:.65,stock:16},p4:{name:"Orange Fanta",price:.45,stock:15},p5:{name:"H2O Regular Water",price:.35,stock:20},p6:{name:"Orange Juice",price:.85,stock:20},p7:{name:"Apple Juice XL",price:.95,stock:20},p8:{name:"Gatorade",price:1.15,stock:20}},p=d,m="Welcome to XMA Vending APP, please insert coin and select a product ...",f=d,E=Object(i.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT_STOCK":var n=e[t.payload],a={};return a[t.payload]=Object(l.a)({},n),a[t.payload].stock=a[t.payload].stock+1,Object(l.a)(Object(l.a)({},e),a);case"DECREMENT_STOCK":var r=e[t.payload],c={};return c[t.payload]=Object(l.a)({},r),c[t.payload].stock=c[t.payload].stock-1,Object(l.a)(Object(l.a)({},e),c);default:return e}},cashUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT_COIN_USER":var n={};return n[t.payload]=e[t.payload]+1,Object(l.a)(Object(l.a)({},e),n);case"REFUND_COINS":return Object(l.a)({},p);default:return e}},display:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MESSAGE":return t.payload;case"RESET_MESSAGE":return m;default:return e}},cashMachine:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT_COIN_MACHINE":var n={};return n[t.payload]=e[t.payload]+1,Object(l.a)(Object(l.a)({},e),n);case"UPDATE_CASH_MACHINE":return console.log("payload",t.payload),t.payload;default:return e}},providerMode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENABLE_PROVIDER_MODE":return!0;case"DISABLE_PROVIDER_MODE":return!1;default:return e}}}),b=n(35),y=n(36),g=Object(i.createStore)(E,Object(y.composeWithDevTools)(Object(i.applyMiddleware)(b.logger))),O=n(4),x=n(77),h=n(59),v=n(74),N=n(24),C=n(40),j=function(e){return Object.entries(e).reduce((function(e,t){return e+Number(t[0])*t[1]}),0).toFixed(2)},I=function(e,t){var n=Object(l.a)({},t);return Object.entries(e).forEach((function(e){n[e[0]]=n[Number(e[0])]+Number(e[1])})),n},k=function(e,t,n){for(var a=Object.keys(e).sort((function(e,t){return Number(t)-Number(e)})),r=Object(C.a)(a).fill(0),c=I(e,t),o=Object.entries(c).sort((function(e,t){return Number(t[0])-Number(e[0])})),i=0;i<o.length;i++)if(n>=Number(a[i])){var l=Math.min(parseInt(n/Number(a[i])),Number(o[i][1]));l>0&&(r[i]=l,n=Number((n-r[i]*Number(a[i])).toFixed(2)))}return 0===Number(n)?r:null},R=function(e,t){var n,a=(n=t,Object.entries(n).sort((function(e,t){return Number(t[0])-Number(e[0])})));return e.reduce((function(e,t,n){return t>0?e+"".concat(t," of ").concat(a[n][0]).concat(u,", "):e}),"").slice(0,-2)},M=function(e){return{type:"CHANGE_MESSAGE",payload:e}},S=function(){var e=Object(O.c)((function(e){return e.providerMode})),t=Object(O.c)((function(t){return e?t.cashMachine:t.cashUser})),n=Object(O.b)(),a=function(t){var a=t.target.name;n(e?function(e){return{type:"INCREMENT_COIN_MACHINE",payload:e}}(a):{type:"INCREMENT_COIN_USER",payload:a}),n(M("Coin ".concat(a," ").concat(u," inserted!")))},c=j(t);return r.a.createElement(x.a,{display:"flex",justifyContent:"center",flexDirection:"column",paddingTop:"15px",alignItems:"center"},r.a.createElement(x.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},r.a.createElement(h.a,{style:{flex:"0 0 40%",textAlign:"end"}},"Push coins to insert =>"),r.a.createElement(x.a,{paddingBottom:"10px",flex:"0 0 60%"},Object.entries(d).sort((function(e,t){return Number(e[0])-Number(t[0])})).map((function(e){return r.a.createElement("button",{key:e[0],onClick:a,name:e[0],style:{width:"50px",height:"50px",fontSize:"19px",borderRadius:"50px",marginLeft:"5px"}},e[0])})))),r.a.createElement(x.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},r.a.createElement(h.a,{style:{flex:"0 0 40%",textAlign:"end"}},"# Coins inserted =>"),r.a.createElement(x.a,{paddingBottom:"2px",display:"flex",flex:"0 0 60%"},Object.entries(t).sort((function(e,t){return Number(e[0])-Number(t[0])})).map((function(e){return r.a.createElement(h.a,{key:e[0],style:{width:"50px",textAlign:"center",fontSize:"19px",marginLeft:"5px"}},e[1])})))),r.a.createElement(h.a,{variant:"h5"},"Total: ",c,u),!e&&0!==Number(c)&&r.a.createElement(v.a,{variant:"outlined",style:{color:"red"},onClick:function(){n({type:"REFUND_COINS"}),n({type:"RESET_MESSAGE"})}},"Refund Credit"))},_=n(75),T=Object(_.a)((function(){return{TableRow:{"&:nth-child(even)":{background:"rgb(137,208,205)"},"&:nth-child(odd)":{background:"rgba(137,208,205,0.4)"},"font-size":"1.4rem","padding-bottom":"0.2rem","padding-top":"0.2rem","padding-left":"1rem","border-bottom":"1px solid #5cc2e1"}}})),A=function(e){return{type:"DECREMENT_STOCK",payload:e}},D=function(e){var t=e.productId,n=e.isProvider,a=e.price,c=e.stock,o=Object(O.b)(),i=Object(O.c)((function(e){return e.cashUser})),u=Object(O.c)((function(e){return e.cashMachine}));return n?r.a.createElement(x.a,null,r.a.createElement(v.a,{variant:"outlined",onClick:function(){return o(function(e){return{type:"INCREMENT_STOCK",payload:e}}(t))}},"+"),r.a.createElement(v.a,{variant:"outlined",disabled:0===c,onClick:function(){return o(A(t))}},"-")):r.a.createElement(v.a,{variant:"outlined",disabled:0===c,onClick:function(){if(function(e,t){return j(t)>=e}(a,i)){var e=function(e,t,n){var a=j(e),r=Number((a-n).toFixed(2));return 0===r?[]:k(e,t,r)}(i,u,a);if(e){o(A(t)),o({type:"UPDATE_CASH_MACHINE",payload:function(e,t,n){for(var a=I(e,t),r=Object.entries(a).sort((function(e,t){return Number(t[0])-Number(e[0])})),c=0;c<n.length;c++)r[c][1]=r[c][1]-n[c];return r.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(N.a)({},t[0],t[1]))}),{})}(i,u,e)}),o({type:"REFUND_COINS"});var n=0===e.length?"":"Your change:"+R(e,u);o(M("Thank you! enjoy your drink!! "+n))}else o(M("Sorry, there is no change for this import..."))}else o(M("Sorry, not enough credit for this product..."))}},r.a.createElement(h.a,{style:0===c?{color:"red"}:{color:"black"}},0===c?"OUT OF STOCK":"Buy"))},P=function(e){var t=Object(O.c)((function(e){return e.providerMode})),n=T(),a=e.product,c=e.productId;return r.a.createElement(x.a,{className:n.TableRow,display:"flex",marginLeft:"10%",marginRight:"10%",borderBottom:"1px solid grey"},r.a.createElement(x.a,{flex:"0 0 30%",display:"flex",justifyContent:"flex-start"},r.a.createElement(h.a,{variant:"body1"},a.name)),r.a.createElement(x.a,{flex:"0 0 20%",display:"flex",justifyContent:"flex-end"},r.a.createElement(h.a,{variant:"body1"},a.price)),r.a.createElement(x.a,{flex:"0 0 20%",display:"flex",justifyContent:"flex-end"},r.a.createElement(h.a,{variant:"body1"},a.stock)),r.a.createElement(x.a,{flex:"0 0 30%",display:"flex",justifyContent:"center"},r.a.createElement(D,{isProvider:t,productId:c,price:a.price,stock:a.stock})))},w=Object(_.a)((function(){return{TableHeader:{"border-bottom":"1px solid grey","border-top":"1px solid grey",background:"rgb(92,144,225)","padding-left":"1rem"}}})),B=function(e){var t=w();return r.a.createElement(x.a,{className:t.TableHeader,display:"flex",marginLeft:"10%",marginRight:"10%",borderBottom:"1px solid grey"},r.a.createElement(x.a,{flex:"0 0 30%",display:"flex",justifyContent:"flex-start"},r.a.createElement(h.a,{variant:"h6"},"PRODUCT")),r.a.createElement(x.a,{flex:"0 0 20%",display:"flex",justifyContent:"flex-end"},r.a.createElement(h.a,{variant:"h6"},"PRICE IN ".concat(u))),r.a.createElement(x.a,{flex:"0 0 20%",display:"flex",justifyContent:"flex-end"},r.a.createElement(h.a,{variant:"h6"},"STOCK")),r.a.createElement(x.a,{flex:"0 0 30%",display:"flex",justifyContent:"center"},r.a.createElement(h.a,{variant:"h6"},"ACTION")))},U=function(){var e=Object(O.c)((function(e){return e.products}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null),r.a.createElement(x.a,{display:"flex",flexDirection:"column",justifyContent:"center"},Object.entries(e).map((function(e){return r.a.createElement(P,{product:e[1],productId:e[0],key:e[0]})}))))},F=function(){var e=Object(O.c)((function(e){return e.display}));return r.a.createElement(x.a,{display:"flex",marginBottom:"5px",marginTop:"5px",height:"60px",justifyContent:"center",alignItems:"center",marginLeft:"10%",marginRight:"10%",border:"1px solid grey"},r.a.createElement(h.a,{variant:"h5"},e))},H=n(78),L=n(76),G=function(){var e=Object(O.c)((function(e){return e.providerMode})),t=Object(O.b)();return r.a.createElement(x.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px"},r.a.createElement(L.a,{control:r.a.createElement(H.a,{onChange:function(e){var n=e.target.checked;t(n?{type:"ENABLE_PROVIDER_MODE"}:{type:"DISABLE_PROVIDER_MODE"}),t(M("Provider Mode "+(n?"ON":"OFF")))},checked:e,name:"Role",color:"primary"}),label:"Enable Provider Mode"}))};var K=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O.a,{store:g},r.a.createElement(F,null),r.a.createElement(G,null),r.a.createElement(U,null),r.a.createElement(S,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.d7c02798.chunk.js.map